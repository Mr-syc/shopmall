{"remainingRequest":"C:\\Users\\acw\\Desktop\\shopmall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\acw\\Desktop\\shopmall\\src\\components\\common\\scroll\\scroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\acw\\Desktop\\shopmall\\src\\components\\common\\scroll\\scroll.vue","mtime":1596883103710},{"path":"C:\\Users\\acw\\Desktop\\shopmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\acw\\Desktop\\shopmall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\acw\\Desktop\\shopmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\acw\\Desktop\\shopmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNjcm9sbCIsCiAgcHJvcHM6IHsKICAgIHByb2JlVHlwZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBwdWxsVXBMb2FkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNjcm9sbDogbnVsbAogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vMS7liJvlu7piZXR0ZXItc2Nyb2xs5a+56LGhCiAgICB0aGlzLnNjcm9sbCA9IG5ldyBCU2Nyb2xsKHRoaXMuJHJlZnMud3JhcHBlciwgewogICAgICBjbGljazogdHJ1ZSwKICAgICAgcHJvYmVUeXBlOiB0aGlzLnByb2JlVHlwZSwvL+iuvue9ruaIkDPnmoTml7blgJnkvJrlrp7ml7bnm5HlkKzvvIzlh73mlbDkvJrooqvkuIDnm7Tlm57osIPvvIzlvbHlk43mgKfog73vvIzov5nph4zkuI3lhpnmrbvvvIzmoLnmja7mg4XlhrXotYvlgLwKICAgICAgcHVsbFVwTG9hZDogdGhpcy5wdWxsVXBMb2FkLAogICAgICAvLyBjYW5jZWxhYmxlOmZhbHNlCiAgICB9KQogICAgLy8yLuebkeWQrOa7muWKqOWvueixoQogICAgaWYgKHRoaXMucHJvYmVUeXBlID09PSAyIHx8IHRoaXMucHJvYmVUeXBlID09PSAzKSB7CiAgICAgIHRoaXMuc2Nyb2xsLm9uKCdzY3JvbGwnLCAocG9zaXRpb24pID0+IHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhwb3NpdGlvbik7CiAgICAgICAgdGhpcy4kZW1pdCgnc2Nyb2xsJywgcG9zaXRpb24pCiAgICAgIH0pCiAgICB9CiAgICAvL+ebkeWQrOS4iuaLieS6i+S7tgogICAgaWYgKHRoaXMucHVsbFVwTG9hZCkgewogICAgICB0aGlzLnNjcm9sbC5vbigncHVsbGluZ1VwJywgKCkgPT4gewogICAgICAgIHRoaXMuJGVtaXQoJ3B1bGxpbmdVcCcpCiAgICAgIH0pCiAgICB9CiAgfSwKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc2Nyb2xsKTsKCgogICAgbWV0aG9kczp7CiAgICAgIHNjcm9sbFRvKHgsIHksIHRpbWUgPSAzMDApIHsKICAgICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUbyh4LCB5LCB0aW1lKQogICAgICB9LAogICAgICByZWZyZXNoKCkgewogICAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnJlZnJlc2goKQogICAgICAgIGNvbnNvbGUubG9nKCctLS0nKTsKICAgICAgfSwKICAgICAgZmluaXNoUHVsbFVwKCkgewogICAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLmZpbmlzaFB1bGxVcCgpCiAgICAgIH0sCiAgICAgIGdldFNjcm9sbFkoKXsKICAgICAgICByZXR1cm4gdGhpcy5zY3JvbGwgPyB0aGlzLnNjcm9sbC55IDogMAogICAgICB9CiAgICB9Cgp9Cgo="},{"version":3,"sources":["scroll.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"scroll.vue","sourceRoot":"src/components/common/scroll","sourcesContent":["<template>\r\n<!--  //ref一般绑定给子组件-->\r\n  <div class=\"wrapper\" ref=\"wrapper\">\r\n    <div class=\"content\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n  import BScroll from 'better-scroll'\r\n\r\n  export default {\r\n    name: \"scroll\",\r\n    props: {\r\n      probeType: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      pullUpLoad: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n\r\n    },\r\n    data() {\r\n      return {\r\n        scroll: null\r\n      }\r\n    },\r\n    mounted() {\r\n      //1.创建better-scroll对象\r\n      this.scroll = new BScroll(this.$refs.wrapper, {\r\n        click: true,\r\n        probeType: this.probeType,//设置成3的时候会实时监听，函数会被一直回调，影响性能，这里不写死，根据情况赋值\r\n        pullUpLoad: this.pullUpLoad,\r\n        // cancelable:false\r\n      })\r\n      //2.监听滚动对象\r\n      if (this.probeType === 2 || this.probeType === 3) {\r\n        this.scroll.on('scroll', (position) => {\r\n          // console.log(position);\r\n          this.$emit('scroll', position)\r\n        })\r\n      }\r\n      //监听上拉事件\r\n      if (this.pullUpLoad) {\r\n        this.scroll.on('pullingUp', () => {\r\n          this.$emit('pullingUp')\r\n        })\r\n      }\r\n    },\r\n      // console.log(this.scroll);\r\n\r\n\r\n      methods:{\r\n        scrollTo(x, y, time = 300) {\r\n          this.scroll && this.scroll.scrollTo(x, y, time)\r\n        },\r\n        refresh() {\r\n          this.scroll && this.scroll.refresh()\r\n          console.log('---');\r\n        },\r\n        finishPullUp() {\r\n          this.scroll && this.scroll.finishPullUp()\r\n        },\r\n        getScrollY(){\r\n          return this.scroll ? this.scroll.y : 0\r\n        }\r\n      }\r\n\r\n  }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"]}]}