{"remainingRequest":"C:\\Users\\acw\\Desktop\\shopmall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\acw\\Desktop\\shopmall\\src\\store\\actions.js","dependencies":[{"path":"C:\\Users\\acw\\Desktop\\shopmall\\src\\store\\actions.js","mtime":1596883103717},{"path":"C:\\Users\\acw\\Desktop\\shopmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596336754335},{"path":"C:\\Users\\acw\\Desktop\\shopmall\\node_modules\\babel-loader\\lib\\index.js","mtime":1596336754350}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgeyBBRERfVE9fQ0FSVCwgQWRkX0NPVU5URVIgfSBmcm9tICIuL211dGF0aW9uLXR5cGVzIjsKZXhwb3J0IGRlZmF1bHQgewogIGFkZENhcnQ6IGZ1bmN0aW9uIGFkZENhcnQoY29udGV4dCwgcGF5bG9hZCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgLy/mn6Xmib7kuYvliY3mlbDnu4TkuK3mmK/lkKbmnInor6XllYblk4EKICAgICAgdmFyIG9sZFByb2R1Y3QgPSBjb250ZXh0LnN0YXRlLmNhcnRMaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5paWQgPT09IHBheWxvYWQuaWlkOwogICAgICB9KTsgLy8yLuWIpOaWrW9sZFByb2R1Y3QKCiAgICAgIGlmIChvbGRQcm9kdWN0KSB7CiAgICAgICAgLy8gb2xkUHJvZHVjdC5jb3VudCArPSAxCiAgICAgICAgY29udGV4dC5jb21taXQoQWRkX0NPVU5URVIsIG9sZFByb2R1Y3QpOwogICAgICAgIHJlc29sdmUoJ+WVhuWTgeeahOaVsOmHjysxJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGF5bG9hZC5jb3VudCA9IDE7IC8vIHN0YXRlLmNhcnRMaXN0LnB1c2gocGF5bG9hZCkKCiAgICAgICAgY29udGV4dC5jb21taXQoQUREX1RPX0NBUlQsIHBheWxvYWQpOwogICAgICAgIHJlc29sdmUoJ+a3u+WKoOi0reeJqei9puaIkOWKnycpOwogICAgICB9CiAgICB9KTsgLy/mn6Xmib7kuYvliY3mlbDnu4TkuK3mmK/lkKbmnInor6XllYblk4EKICB9Cn07"},{"version":3,"sources":["C:/Users/acw/Desktop/shopmall/src/store/actions.js"],"names":["ADD_TO_CART","Add_COUNTER","addCart","context","payload","Promise","resolve","reject","oldProduct","state","cartList","find","item","iid","commit","count"],"mappings":";;AAAA,SAAQA,WAAR,EAAoBC,WAApB,QAAsC,kBAAtC;AAEA,eAAe;AACbC,EAAAA,OADa,mBACLC,OADK,EACGC,OADH,EACW;AACtB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC;AACA,UAAIC,UAAU,GAAGL,OAAO,CAACM,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaT,OAAO,CAACS,GAAzB;AAAA,OAAhC,CAAjB,CAFsC,CAKtC;;AACA,UAAGL,UAAH,EAAe;AACb;AACAL,QAAAA,OAAO,CAACW,MAAR,CAAeb,WAAf,EAA2BO,UAA3B;AACAF,QAAAA,OAAO,CAAC,SAAD,CAAP;AACD,OAJD,MAIK;AACHF,QAAAA,OAAO,CAACW,KAAR,GAAgB,CAAhB,CADG,CAEH;;AACAZ,QAAAA,OAAO,CAACW,MAAR,CAAed,WAAf,EAA2BI,OAA3B;AACAE,QAAAA,OAAO,CAAC,SAAD,CAAP;AACD;AACF,KAhBM,CAAP,CADsB,CAkBtB;AAED;AArBY,CAAf","sourcesContent":["import {ADD_TO_CART,Add_COUNTER} from \"./mutation-types\";\r\n\r\nexport default {\r\n  addCart(context,payload){\r\n    return new Promise((resolve ,reject) => {\r\n      //查找之前数组中是否有该商品\r\n      let oldProduct = context.state.cartList.find(item => item.iid === payload.iid)\r\n\r\n\r\n      //2.判断oldProduct\r\n      if(oldProduct) {\r\n        // oldProduct.count += 1\r\n        context.commit(Add_COUNTER,oldProduct)\r\n        resolve('商品的数量+1')\r\n      }else{\r\n        payload.count = 1\r\n        // state.cartList.push(payload)\r\n        context.commit(ADD_TO_CART,payload)\r\n        resolve('添加购物车成功')\r\n      }\r\n    })\r\n    //查找之前数组中是否有该商品\r\n\r\n  }\r\n}\r\n"]}]}